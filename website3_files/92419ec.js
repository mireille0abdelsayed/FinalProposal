/*! For license information please see LICENSES */
(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{837:function(e,t,n){e.exports=n(920)},839:function(e,t,n){var content=n(928);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(15).default)("38677430",content,!0,{sourceMap:!1})},920:function(e,t,n){"use strict";var r=n(921),o=n(922);function l(e){var t=0,n=0,r=0,o=0;return"detail"in e&&(n=e.detail),"wheelDelta"in e&&(n=-e.wheelDelta/120),"wheelDeltaY"in e&&(n=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=n,n=0),r=10*t,o=10*n,"deltaY"in e&&(o=e.deltaY),"deltaX"in e&&(r=e.deltaX),(r||o)&&e.deltaMode&&(1==e.deltaMode?(r*=40,o*=40):(r*=800,o*=800)),r&&!t&&(t=r<1?-1:1),o&&!n&&(n=o<1?-1:1),{spinX:t,spinY:n,pixelX:r,pixelY:o}}l.getEventType=function(){return r.firefox()?"DOMMouseScroll":o("wheel")?"wheel":"mousewheel"},e.exports=l},921:function(e,t){var n,r,o,l,d,c,h,f,m,v,w,_,x,y,C,P=!1;function M(){if(!P){P=!0;var e=navigator.userAgent,t=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(e),M=/(Mac OS X)|(Windows)|(Linux)/.exec(e);if(_=/\b(iPhone|iP[ao]d)/.exec(e),x=/\b(iP[ao]d)/.exec(e),v=/Android/i.exec(e),y=/FBAN\/\w+;/i.exec(e),C=/Mobile/i.exec(e),w=!!/Win64/.exec(e),t){(n=t[1]?parseFloat(t[1]):t[5]?parseFloat(t[5]):NaN)&&document&&document.documentMode&&(n=document.documentMode);var I=/(?:Trident\/(\d+.\d+))/.exec(e);c=I?parseFloat(I[1])+4:n,r=t[2]?parseFloat(t[2]):NaN,o=t[3]?parseFloat(t[3]):NaN,(l=t[4]?parseFloat(t[4]):NaN)?(t=/(?:Chrome\/(\d+\.\d+))/.exec(e),d=t&&t[1]?parseFloat(t[1]):NaN):d=NaN}else n=r=o=d=l=NaN;if(M){if(M[1]){var S=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(e);h=!S||parseFloat(S[1].replace("_","."))}else h=!1;f=!!M[2],m=!!M[3]}else h=f=m=!1}}var I={ie:function(){return M()||n},ieCompatibilityMode:function(){return M()||c>n},ie64:function(){return I.ie()&&w},firefox:function(){return M()||r},opera:function(){return M()||o},webkit:function(){return M()||l},safari:function(){return I.webkit()},chrome:function(){return M()||d},windows:function(){return M()||f},osx:function(){return M()||h},linux:function(){return M()||m},iphone:function(){return M()||_},mobile:function(){return M()||_||x||v||C},nativeApp:function(){return M()||y},android:function(){return M()||v},ipad:function(){return M()||x}};e.exports=I},922:function(e,t,n){"use strict";var r,o=n(923);o.canUseDOM&&(r=document.implementation&&document.implementation.hasFeature&&!0!==document.implementation.hasFeature("","")),e.exports=function(e,t){if(!o.canUseDOM||t&&!("addEventListener"in document))return!1;var n="on"+e,l=n in document;if(!l){var element=document.createElement("div");element.setAttribute(n,"return;"),l="function"==typeof element[n]}return!l&&r&&"wheel"===e&&(l=document.implementation.hasFeature("Events.wheel","3.0")),l}},923:function(e,t,n){"use strict";var r=!("undefined"==typeof window||!window.document||!window.document.createElement),o={canUseDOM:r,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:r&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:r&&!!window.screen,isInWorker:!r};e.exports=o},927:function(e,t,n){"use strict";n(839)},928:function(e,t,n){var r=n(14)((function(i){return i[1]}));r.push([e.i,'.timelineSelectPopin[data-v-68d2dea8]{position:fixed;top:var(--header-height);left:0;right:0;bottom:0;z-index:10;background-color:#000;display:flex;flex-direction:column;justify-content:stretch;align-items:stretch}.timelineSelectPopin__header[data-v-68d2dea8]{display:flex;flex-direction:row;justify-content:space-between;align-items:center;padding:2.125rem 2rem}@media(min-width:770px){.timelineSelectPopin__header[data-v-68d2dea8]{padding:2.125rem 3.125rem}}.timelineSelectPopin__header__title[data-v-68d2dea8]{font-weight:200;text-transform:uppercase}.timelineSelectPopin__header__close[data-v-68d2dea8]{border:none;background:none;outline:none;cursor:pointer;padding:0}.timelineSelectPopin__carousel[data-v-68d2dea8]{flex:1;display:flex;flex-direction:column;justify-content:space-between;align-items:flex-start;cursor:-webkit-grab;cursor:grab}.timelineSelectPopin__carousel[data-v-68d2dea8]:before{content:""}.timelineSelectPopin__carousel__inner[data-v-68d2dea8]{display:inline-block;white-space:nowrap;transform:translateX(calc(var(--translate)*1px))}.timelineSelectPopin__carousel__item[data-v-68d2dea8]{display:inline-block;width:34.236453202vh;height:47.6600985222vh;max-width:17.375rem;max-height:24.1875rem;margin:0 1.5625rem}@media(min-width:770px){.timelineSelectPopin__carousel__item[data-v-68d2dea8]{width:22rem;height:30.6875rem;max-width:auto;max-height:auto}}.timelineSelectPopin__carousel__scrollbar[data-v-68d2dea8]{position:relative;display:block;width:var(--scrollbar-width);height:1px;margin:0 2.5rem 3.125rem;overflow:hidden;background-color:hsla(0,0%,100%,.1);--scrollbar-width:calc(100vw - 5rem)}.timelineSelectPopin__carousel__scrollbar__inner[data-v-68d2dea8]{position:absolute;left:0;height:100%;width:30%;background-color:#fff;transform-origin:left top;transform:translateX(calc(var(--progress)*(var(--scrollbar-width) - 100%)));transition:.5s transform var(--ease-out-cubic)}',""]),r.locals={},e.exports=r},960:function(e,t,n){"use strict";n.r(t);n(18),n(13),n(16),n(19),n(20);var r=n(150),o=n(6),l=(n(158),n(117),n(9),n(11),n(68),n(837)),d=n.n(l),c=n(5),h=n(701),f=n(64),m=n(212);function v(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function w(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?v(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):v(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var _={components:{GuessCard:h.default},mixins:[m.a],props:{title:{type:String,default:"Pick the right card"},data:{type:Array,required:!0}},data:function(){return{isInteracting:!1,limit:{min:0,max:0},translate:0,flippedCards:[],selectedCardId:null}},computed:w(w({},Object(c.e)({currentSection:function(e){return e.timeline.currentSection},foundCards:function(e){return e.timeline.foundCards}})),{},{shuffledData:function(){for(var e=this,data=Object(r.a)(this.data),i=this.data.length-1;i>0;i--){var t=Math.floor(Math.random()*(i+1)),n=data[i];data[i]=data[t],data[t]=n}return data.sort((function(a,b){var t=a.id&&e.foundCards.find((function(e){return e===a.id}))?0:1;return(b.id&&e.foundCards.find((function(e){return e===b.id}))?0:1)-t})),data},correctCardId:function(){return this.currentSection.id||null}}),mounted:function(){var e=this;this.onViewportResize(),this.$device.isMobileOrTablet?this.shuffledData.forEach((function(t){e.flippedCards.push(t.id)})):(this.observer=new IntersectionObserver((function(t){t.forEach((function(t){var n=parseInt(t.target.dataset.index),r=t.target.dataset.id;t.isIntersecting&&!e.flippedCards[n]&&e.flippedCards.push(r)}))}),{threshold:.1}),this.$refs.carouselItems.forEach((function(t){return e.observer.observe(t)})),document.addEventListener("wheel",this.handleWheel))},beforeDestroy:function(){var e=this;this.observer&&this.$refs.carouselItems.forEach((function(t){return e.observer.unobserve(t)})),document.removeEventListener("wheel",this.handleWheel)},methods:{handleCloseClick:function(){this.$store.commit("timeline/setIsSelectMode",!1)},handleCardClick:function(e,t){var n=this;this.selectedCardId=e.id;var r=this.itemWidth+this.itemGap;if(f.a.to(this,{translate:-r*t+(window.innerWidth-r)/2,onUpdate:this.update,overwrite:!0}),this.selectedCardId===this.correctCardId){this.$dataLayerPush({event:"pick a card complete",year:e.year,"card-title":e.image.title||e.image.alt||e.id});var o=f.a.timeline();o.to(this.$refs.carouselItems,{x:function(i){return i<t?-50:i>t?50:0},stagger:{from:t,amount:.3}}),o.to(this.$refs.carouselItems,{opacity:function(i){return i!==t?.35:1},"pointer-events":function(i){return i!==t?"none":"auto"}},"<+0.2"),o.add((function(){n.$store.commit("timeline/setIsSelectMode",!1),n.$store.commit("timeline/addFoundCards",n.selectedCardId),n.$store.state.timeline.foundCards.length===n.$store.state.timeline.sections.length&&setTimeout((function(){n.$store.commit("timeline/setHasFinished",!0),n.$dataLayerPush({event:"timeline complete"})}),1e3)}),1.2)}else f.a.to(this.$refs.carouselItems[t],{keyframes:[{x:-10,duration:.1},{x:10,duration:.1},{x:-7,duration:.12},{x:7,duration:.1},{x:-5,duration:.12},{x:5,duration:.1},{x:0,duration:.1}]})},handleWheel:function(e){var t=d()(e),n=this.translate-8*t.pixelY;n>0?n=0:Math.abs(n)>this.limit.max&&(n=-this.limit.max),f.a.to(this,{translate:n,duration:.3,onUpdate:this.update,overwrite:!0})},handleMouseDown:function(e){this.mouse||(this.mouse={}),e.touches?(this.mouse.x=e.touches[0].clientX,this.mouse.y=e.touches[0].clientY):(this.mouse.x=e.clientX,this.mouse.y=e.clientY),this.initialPos={x:this.mouse.x,y:this.mouse.y},this.isInteracting=!0,this.initialTranslate=this.translate||0},handleMouseMove:function(e){this.isInteracting&&(e.touches?(this.mouse.x=e.touches[0].clientX,this.mouse.y=e.touches[0].clientY):(this.mouse.x=e.clientX,this.mouse.y=e.clientY),this.initialPos.x-this.mouse.x>10&&(e.stopPropagation(),e.preventDefault()),f.a.to(this,{translate:this.initialTranslate-1.8*(this.initialPos.x-this.mouse.x),duration:.3,onUpdate:this.update}))},handleMouseUp:function(){this.isInteracting=!1,this.translate>0?f.a.to(this,{translate:0,onUpdate:this.update}):Math.abs(this.translate)>this.limit.max&&f.a.to(this,{translate:-this.limit.max,onUpdate:this.update})},update:function(){this.$refs.carouselInner&&this.$refs.carouselInner.style.setProperty("--translate",this.translate),this.$refs.scrollbar&&this.$refs.scrollbar.style.setProperty("--progress",-this.translate/this.limit.max)},onViewportResize:function(){this.limit.min=0,this.limit.max=this.$refs.carouselInner.getBoundingClientRect().width-window.innerWidth,this.itemWidth=this.$refs.carouselItems[0].getBoundingClientRect().width,this.itemGap=50}}},x=(n(927),n(1)),component=Object(x.a)(_,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"timelineSelectPopin"},[n("div",{staticClass:"timelineSelectPopin__header"},[n("h2",{staticClass:"timelineSelectPopin__header__title"},[e._v(e._s(e.title))]),e._v(" "),n("button",{staticClass:"timelineSelectPopin__header__close",on:{click:e.handleCloseClick}},[n("svg",{attrs:{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"M9.99603 10.7033L2.8282 17.871L2.12109 17.1639L9.28893 9.99617L2.12121 2.82844L2.82832 2.12134L9.99603 9.28907L17.1637 2.12143L17.8708 2.82854L10.7031 9.99617L17.8708 17.1639L17.1637 17.871L9.99603 10.7033Z",fill:"white"}})])])]),e._v(" "),n("div",e._g({staticClass:"timelineSelectPopin__carousel"},{mousedown:e.handleMouseDown,mousemove:e.handleMouseMove,mouseup:e.handleMouseUp,touchstart:e.handleMouseDown,touchmove:e.handleMouseMove,touchend:e.handleMouseUp}),[n("ul",{ref:"carouselInner",staticClass:"timelineSelectPopin__carousel__inner"},e._l(e.shuffledData,(function(t,i){return n("li",{key:t.id,ref:"carouselItems",refInFor:!0,staticClass:"timelineSelectPopin__carousel__item",attrs:{"data-index":i,"data-id":t.id}},[n("GuessCard",{ref:"cards",refInFor:!0,attrs:{id:t.id,flipped:e.flippedCards.includes(t.id),disabled:e.foundCards.includes(t.id),"flip-config":e.flippedCards.includes(t.id)?{delay:i/e.flippedCards.length*.2}:{delay:.5},selected:t.id===e.selectedCardId,"is-correct":t.id===e.correctCardId,image:t.image},on:{clicked:function(){return e.handleCardClick(t,i)}}})],1)})),0),e._v(" "),n("div",{ref:"scrollbar",staticClass:"timelineSelectPopin__carousel__scrollbar"},[n("div",{staticClass:"timelineSelectPopin__carousel__scrollbar__inner"})])])])}),[],!1,null,"68d2dea8",null);t.default=component.exports}}]);